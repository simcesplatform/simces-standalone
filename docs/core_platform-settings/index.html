<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        <link rel="canonical" href="https://simcesplatform.github.io/core_platform-settings/">
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>Configuring settings - SimCES</title>
        <link href="../css/bootstrap.min.css" rel="stylesheet">
        <link href="../css/font-awesome.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css">
        <link href="../css/extra.css" rel="stylesheet">

        <script src="../js/jquery-1.10.2.min.js" defer></script>
        <script src="../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="..">SimCES</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="dropdown active">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Use <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href=".." class="dropdown-item">Introduction</a>
</li>
                                    
<li>
    <a href="../core_features/" class="dropdown-item">Features</a>
</li>
                                    
<li>
    <a href="../core_install/" class="dropdown-item">Installation</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Run simulation</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../core_run/" class="dropdown-item">Overview</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Test platform</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../core_run-first/" class="dropdown-item">Run first test simulation</a>
</li>
            
<li>
    <a href="../energy_run-ec-demo/" class="dropdown-item">Run Energy Community demo</a>
</li>
            
<li>
    <a href="../energy_run-ev-charging-demo/" class="dropdown-item">Run EV Charging demo</a>
</li>
    </ul>
  </li>
            
<li>
    <a href="./" class="dropdown-item active">Configuring settings</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Start simulation</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../core_run-preparations/" class="dropdown-item">Simulation run preparations</a>
</li>
            
<li>
    <a href="../core_start-simulation/" class="dropdown-item">Starting a simulation</a>
</li>
    </ul>
  </li>
            
<li>
    <a href="../core_follow-run/" class="dropdown-item">Follow running simulation</a>
</li>
            
<li>
    <a href="../core_stop-simulation/" class="dropdown-item">Stop simulation</a>
</li>
    </ul>
  </li>
                                    
<li>
    <a href="../core_log-api/" class="dropdown-item">Log API</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Develop <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../core_develop-overview/" class="dropdown-item">Overview</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Basic concepts</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../core_time/" class="dropdown-item">Time and synchronization with epochs</a>
</li>
            
<li>
    <a href="../core_cmp-mgmt/" class="dropdown-item">Platform managed and externally managed components</a>
</li>
            
<li>
    <a href="../core_soa/" class="dropdown-item">Service-oriented architecture</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">How to develop</a>
    <ul class="dropdown-menu">
            
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Creating new component</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../core_create-cmp/" class="dropdown-item">Overview</a>
</li>
            
<li>
    <a href="../core_docker-image/" class="dropdown-item">Building Docker image for a component</a>
</li>
            
<li>
    <a href="../core_component-manifest/" class="dropdown-item">Creating a component manifest file</a>
</li>
    </ul>
  </li>
            
<li>
    <a href="../core_conv-msg/" class="dropdown-item">Conventions of messaging</a>
</li>
            
<li>
    <a href="../core_conv-name/" class="dropdown-item">Conventions of naming</a>
</li>
            
<li>
    <a href="../core_pseudocode/" class="dropdown-item">Pseudocode reference</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Simulation Tools package</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../core_sim-tools/" class="dropdown-item">Simulation Tools package</a>
</li>
            
<li>
    <a href="../core_abstractsimulationcomponent/" class="dropdown-item">AbstractSimulationComponent</a>
</li>
    </ul>
  </li>
            
<li>
    <a href="../core_workflow-sim/" class="dropdown-item">Workflow of component in simulation</a>
</li>
            
<li>
    <a href="../core_workflow-start-end/" class="dropdown-item">Workflow of start and end</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Communication</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../core_topics-queues-exchanges/" class="dropdown-item">Topics, queues and exchanges</a>
</li>
            
<li>
    <a href="../core_exchange-mgmt/" class="dropdown-item">Exchange, management</a>
</li>
            
<li>
    <a href="../core_exchange-sim/" class="dropdown-item">Exchange, simulation-specific</a>
</li>
            
<li>
    <a href="../core_topics/" class="dropdown-item">Topics (core)</a>
</li>
            
<li>
    <a href="../core_rabbitmq-reliability/" class="dropdown-item">Reliable messaging in RabbitMQ</a>
</li>
            
<li>
    <a href="../core_amqp-footprint/" class="dropdown-item">Footprint of AMQP items</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Message structures (core)</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../core_msg/" class="dropdown-item">Message structures (core)</a>
</li>
            
<li>
    <a href="../core_msgtype/" class="dropdown-item">Message type names (core)</a>
</li>
            
<li>
    <a href="../core_ucum/" class="dropdown-item">Units of measure (UCUM)</a>
</li>
            
<li>
    <a href="../core_msg-abstractmessage/" class="dropdown-item">Message - AbstractMessage</a>
</li>
            
<li>
    <a href="../core_msg-abstractresult/" class="dropdown-item">Message - AbstractResult</a>
</li>
            
<li>
    <a href="../core_msg-epoch/" class="dropdown-item">Message - Epoch</a>
</li>
            
<li>
    <a href="../core_msg-simstate/" class="dropdown-item">Message - SimState</a>
</li>
            
<li>
    <a href="../core_msg-start/" class="dropdown-item">Message - Start</a>
</li>
            
<li>
    <a href="../core_msg-status/" class="dropdown-item">Message - Status</a>
</li>
            
<li>
    <a href="../core_block-quantity/" class="dropdown-item">Block - Quantity</a>
</li>
            
<li>
    <a href="../core_block-quantity-array/" class="dropdown-item">Block - Quantity array</a>
</li>
            
<li>
    <a href="../core_block-time-series/" class="dropdown-item">Block - Time series</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Platforms internals</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../core_logging-system/" class="dropdown-item">Logging system</a>
</li>
            
<li>
    <a href="../core_logwriter/" class="dropdown-item">LogWriter</a>
</li>
            
<li>
    <a href="../core_platformmanager/" class="dropdown-item">Platform Manager</a>
</li>
            
<li>
    <a href="../core_lifecycle/" class="dropdown-item">Simulation lifecycle</a>
</li>
            
<li>
    <a href="../core_simulationmanager/" class="dropdown-item">Simulation Manager</a>
</li>
            
<li>
    <a href="../core_dummycomponent/" class="dropdown-item">Dummy Component</a>
</li>
            
<li>
    <a href="../core_amqpmathtool/" class="dropdown-item">AmqpMathToolIntegration</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Energy domain <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../energy_overview/" class="dropdown-item">Overview</a>
</li>
                                    
<li>
    <a href="../energy_conventions/" class="dropdown-item">Energy-domain-specific conventions</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Components (energy)</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../energy_controller/" class="dropdown-item">Controller</a>
</li>
            
<li>
    <a href="../energy_distribution-management-system-dms/" class="dropdown-item">Distribution management system (DMS)</a>
</li>
            
<li>
    <a href="../energy_grid-dss/" class="dropdown-item">Grid (DSS)</a>
</li>
            
<li>
    <a href="../energy_economicdispatch/" class="dropdown-item">Economic Dispatch</a>
</li>
            
<li>
    <a href="../energy_priceforecaster/" class="dropdown-item">Price Forecaster</a>
</li>
            
<li>
    <a href="../energy_procem-lfm/" class="dropdown-item">Procem-LFM</a>
</li>
            
<li>
    <a href="../energy_resourceforecaster/" class="dropdown-item">Resource Forecaster</a>
</li>
            
<li>
    <a href="../energy_static-time-series-resource/" class="dropdown-item">Static time series resource</a>
</li>
            
<li>
    <a href="../energy_storage/" class="dropdown-item">Storage</a>
</li>
            
<li>
    <a href="../energy_user-component/" class="dropdown-item">User</a>
</li>
            
<li>
    <a href="../energy_station-component/" class="dropdown-item">Station</a>
</li>
            
<li>
    <a href="../energy_ic-component/" class="dropdown-item">Intelligent Controller</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Message structures (energy)</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../energy_msg-controlstate-powersetpoint/" class="dropdown-item">ControlState.PowerSetpoint</a>
</li>
            
<li>
    <a href="../energy_msg-dmsnetworkstatus-current/" class="dropdown-item">DMSNetworkStatus.Current</a>
</li>
            
<li>
    <a href="../energy_msg-dmsnetworkstatus-voltage/" class="dropdown-item">DMSNetworkStatus.Voltage</a>
</li>
            
<li>
    <a href="../energy_msg-flexibilityneed/" class="dropdown-item">FlexibilityNeed</a>
</li>
            
<li>
    <a href="../energy_msg-init-cis-customerinfo/" class="dropdown-item">Init.CIS.CustomerInfo</a>
</li>
            
<li>
    <a href="../energy_msg-init-nis-networkbusinfo/" class="dropdown-item">Init.NIS.NetworkBusInfo</a>
</li>
            
<li>
    <a href="../energy_msg-init-nis-networkcomponentinfo/" class="dropdown-item">Init.NIS.NetworkComponentInfo</a>
</li>
            
<li>
    <a href="../energy_msg-lfmmarketresult/" class="dropdown-item">LFMMarketResult</a>
</li>
            
<li>
    <a href="../energy_msg-lfmoffering/" class="dropdown-item">LFMOffering</a>
</li>
            
<li>
    <a href="../energy_msg-networkforecaststate-current/" class="dropdown-item">NetworkForecastState.Current</a>
</li>
            
<li>
    <a href="../energy_msg-networkforecaststate-voltage/" class="dropdown-item">NetworkForecastState.Voltage</a>
</li>
            
<li>
    <a href="../energy_msg-networkstate-current/" class="dropdown-item">NetworkState.Current</a>
</li>
            
<li>
    <a href="../energy_msg-networkstate-loss/" class="dropdown-item">NetworkState.Loss</a>
</li>
            
<li>
    <a href="../energy_msg-networkstate-voltage/" class="dropdown-item">NetworkState.Voltage</a>
</li>
            
<li>
    <a href="../energy_msg-offer/" class="dropdown-item">Offer</a>
</li>
            
<li>
    <a href="../energy_msg-priceforecaststate/" class="dropdown-item">PriceForecastState</a>
</li>
            
<li>
    <a href="../energy_msg-request/" class="dropdown-item">Request</a>
</li>
            
<li>
    <a href="../energy_msg-resourceforecaststate-dispatch/" class="dropdown-item">ResourceForecastState.Dispatch</a>
</li>
            
<li>
    <a href="../energy_msg-resourceforecaststate-power/" class="dropdown-item">ResourceForecastState.Power</a>
</li>
            
<li>
    <a href="../energy_msg-resourcestate/" class="dropdown-item">ResourceState</a>
</li>
            
<li>
    <a href="../energy_msg-selectedoffer/" class="dropdown-item">SelectedOffer</a>
</li>
            
<li>
    <a href="../energy_msg-startmessageblocks/" class="dropdown-item">Start message blocks</a>
</li>
    </ul>
  </li>
                                    
<li>
    <a href="../energy_msgtype/" class="dropdown-item">Message type names (energy)</a>
</li>
                                    
<li>
    <a href="../energy_software-pkg/" class="dropdown-item">Software packages</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Topics (energy)</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../energy_topics/" class="dropdown-item">Topics (energy)</a>
</li>
            
<li>
    <a href="../energy_topic-priceforecaststate/" class="dropdown-item">PriceForecastState.(MarketId).(ResourceId)</a>
</li>
            
<li>
    <a href="../energy_topic-resourceforecaststate/" class="dropdown-item">ResourceForecastState.(ResourceCategory).(ResourceId)</a>
</li>
            
<li>
    <a href="../energy_topic-resourcestate/" class="dropdown-item">ResourceState.(ResourceCategory).(ResourceId)</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Scenarios</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../energy_scenario-ec-demo/" class="dropdown-item">Energy community demo</a>
</li>
            
<li>
    <a href="../energy_scenario-ev-charging-demo/" class="dropdown-item">Electric vehicle charging demo</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">About... <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../about/" class="dropdown-item">About...</a>
</li>
                                    
<li>
    <a href="../license/" class="dropdown-item">License</a>
</li>
                                    
<li>
    <a href="../maintenance-plan/" class="dropdown-item">Maintenance plan</a>
</li>
                                    
<li>
    <a href="../publications/" class="dropdown-item">Publications</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../energy_run-ev-charging-demo/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../core_run-preparations/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#configuring-platform-settings" class="nav-link">Configuring platform settings</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#general-platform-level-settings" class="nav-link">General platform level settings</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#simulation-run-specific-settings" class="nav-link">Simulation run specific settings</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="configuring-platform-settings">Configuring platform settings</h1>
<p>There are two collections of settings:</p>
<ul>
<li><a href="#general-platform-level-settings">General platform level settings</a> that affect the background components like Log Reader and require running the installation script to take an effect</li>
<li><a href="#simulation-run-specific-settings">Simulation run specific settings</a> that affect the future simulation runs and can be changed without running the installation script</li>
</ul>
<h2 id="general-platform-level-settings">General platform level settings</h2>
<p>The default settings for the platform are fine for local testing.</p>
<p>If there is a need to connect to remote resources like a remote RabbitMQ message bus so that externally managed components that have not been locally deployed can participate in the simulations, some platform level settings must be modified.</p>
<p>There are 6 different files that define the settings for the core platform. They are all listed in the table below with the details given in the subsections. Only the the parameters that might require changing are described here. The default files contain comments for all settings.</p>
<p>For any changes to these files to have an effect, the platform core setup script must be run, see the step 6 at page <a href="../core_install/#installing-the-platform-and-the-core-components">Installation</a>.</p>
<table>
<thead>
<tr>
<th>Configuration file</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="#backgroundenvcomponents_mongodbenv">background/env/components_mongodb.env</a></td>
<td>The MongoDB connection settings used by <a href="../core_log-api/">Log Reader</a> and the instance of <a href="../core_logwriter/">Log Writer</a> that is listening to the <a href="../core_exchange-mgmt/">management exchange</a>.</td>
</tr>
<tr>
<td><a href="#backgroundenvcomponents_logwriterenv">background/env/components_logwriter.env</a></td>
<td>Additional settings for the instance of <a href="../core_logwriter/">Log Writer</a> that is listening to the <a href="../core_exchange-mgmt/">management exchange</a>. Includes the RabbitMQ connection settings, logging level settings and other Log Writer specific settings.</td>
</tr>
<tr>
<td><a href="#backgroundenvrabbitmqenv">background/env/rabbitmq.env</a></td>
<td>Settings for the locally deployed RabbitMQ message bus instance.</td>
</tr>
<tr>
<td><a href="#backgroundenvmongodbenv">background/env/mongodb.env</a></td>
<td>Settings for the locally deployed MongoDB database instance.</td>
</tr>
<tr>
<td><a href="#backgroundenvmongo_expressenv">background/env/mongo_express.env</a></td>
<td>Settings for the locally deployed Mongo Express instance that can be used to access the MongoDB and the messages from the simulations directly.</td>
</tr>
<tr>
<td><a href="#backgrounddocker-compose-backgroundyml">background/docker-compose-background.yml</a></td>
<td>The Docker Compose file that is used to deploy all the core platform components. The locally used ports can be changed by modifying this file.</td>
</tr>
</tbody>
</table>
<h3 id="backgroundenvcomponents_mongodbenv">background/env/components_mongodb.env</h3>
<p>MongoDB connection settings for <a href="../core_log-api/">Log Reader</a> and the instance of of <a href="../core_logwriter/">Log Writer</a> that is listening to the <a href="../core_exchange-mgmt/">management exchange</a>:</p>
<table>
<thead>
<tr>
<th>Variable name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>MONGODB_HOST</td>
<td>simces_mongodb</td>
<td>The host name for MongoDB. Can also be Docker container name for a container in the same Docker network as the Platform Manager.</td>
</tr>
<tr>
<td>MONGODB_PORT</td>
<td>27017</td>
<td>The port number for MongoDB.</td>
</tr>
<tr>
<td>MONGODB_USERNAME</td>
<td></td>
<td>The username for MongoDB. If this is empty, no access control is assumed to be in use.</td>
</tr>
<tr>
<td>MONGODB_PASSWORD</td>
<td></td>
<td>The password for MongoDB.</td>
</tr>
<tr>
<td>MONGODB_ADMIN</td>
<td>true</td>
<td>Whether the account given in MONGODB_USERNAME has root access or not. Ignored if MONGODB_USERNAME is empty. (true/false)</td>
</tr>
<tr>
<td>MONGODB_TLS</td>
<td>false</td>
<td>Whether the connection to MongoDB is secured or not (true/false)</td>
</tr>
<tr>
<td>MONGODB_TLS_ALLOW_INVALID_CERTIFICATES</td>
<td>false</td>
<td>Whether to allow invalid security certificates. Ignored if MONGO_TLS is false. (true/false)</td>
</tr>
</tbody>
</table>
<p>The default file can be found at: <a href="https://github.com/simcesplatform/Platform-Manager/blob/master/background/env/components_mongodb.env">background/env/components_mongodb.env</a></p>
<h3 id="backgroundenvcomponents_logwriterenv">background/env/components_logwriter.env</h3>
<p>Settings for the instance of <a href="../core_logwriter/">Log Writer</a> that is listening to the <a href="../core_exchange-mgmt/">management exchange</a>. Includes the RabbitMQ connection settings, logging level settings and other Log Writer specific settings.</p>
<table>
<thead>
<tr>
<th>Variable name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>SIMULATION_LOG_LEVEL</td>
<td>20</td>
<td>The logging level for which the logging messages are included in the output of the components. 30 to include only warnings and errors, 20 to include also info messages, and 10 to include the debug messages as well.</td>
</tr>
<tr>
<td>RABBITMQ_HOST</td>
<td>simces_rabbitmq</td>
<td>The host name for the RabbitMQ message bus. Can also be Docker container name for a container in the same Docker network as the Platform Manager.</td>
</tr>
<tr>
<td>RABBITMQ_PORT</td>
<td>5672</td>
<td>The port number for the RabbitMQ message bus.</td>
</tr>
<tr>
<td>RABBITMQ_LOGIN</td>
<td></td>
<td>The username for the RabbitMQ message bus. If this is empty, the default username, <code>guest</code>. is used.</td>
</tr>
<tr>
<td>RABBITMQ_PASSWORD</td>
<td></td>
<td>The password for the RabbitMQ message bus. If this is empty, the default password, <code>guest</code>. is used.</td>
</tr>
<tr>
<td>RABBITMQ_SSL</td>
<td>false</td>
<td>Whether the connection to the RabbitMQ message bus is secured or not (true/false)</td>
</tr>
<tr>
<td>RABBITMQ_SSL_VERSION</td>
<td>PROTOCOL_TLS</td>
<td>The security protocol used in the RabbitMQ message bus connection. Only considered if RABBITMQ_SSL is true.</td>
</tr>
</tbody>
</table>
<p>The default file can be found at: <a href="https://github.com/simcesplatform/Platform-Manager/blob/master/background/env/components_logwriter.env">background/env/components_logwriter.env</a></p>
<h3 id="backgroundenvrabbitmqenv">background/env/rabbitmq.env</h3>
<p>Settings for the locally deployed RabbitMQ message bus instance.</p>
<table>
<thead>
<tr>
<th>Variable name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>RABBITMQ_DEFAULT_USER</td>
<td></td>
<td>The username for the local RabbitMQ instance. If this is empty, the default username, <code>guest</code>. is used.</td>
</tr>
<tr>
<td>RABBITMQ_DEFAULT_PASS</td>
<td></td>
<td>The password for the local RabbitMQ instance. If this is empty, the default password, <code>guest</code>. is used.</td>
</tr>
</tbody>
</table>
<p>The default file can be found at: <a href="https://github.com/simcesplatform/Platform-Manager/blob/master/background/env/rabbitmq.env">background/env/rabbitmq.env</a></p>
<h3 id="backgroundenvmongodbenv">background/env/mongodb.env</h3>
<table>
<thead>
<tr>
<th>Variable name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>MONGO_INITDB_ROOT_USERNAME</td>
<td></td>
<td>The username for root access to the local MongoDB instance. If this is empty, no access control is used.</td>
</tr>
<tr>
<td>MONGO_INITDB_ROOT_PASSWORD</td>
<td></td>
<td>The password for root access to the local MongoDB instance</td>
</tr>
</tbody>
</table>
<p>The default file can be found at: <a href="https://github.com/simcesplatform/Platform-Manager/blob/master/background/env/mongodb.env">background/env/mongodb.env</a></p>
<h3 id="backgroundenvmongo_expressenv">background/env/mongo_express.env</h3>
<p>The settings for Mongo Express.</p>
<table>
<thead>
<tr>
<th>Variable name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>ME_CONFIG_MONGODB_SERVER</td>
<td>simces_mongodb</td>
<td>The host name for MongoDB. Can also be Docker container name for a container in the same Docker network as the Platform Manager.</td>
</tr>
<tr>
<td>ME_CONFIG_MONGODB_PORT</td>
<td>27017</td>
<td>The port number for MongoDB.</td>
</tr>
<tr>
<td>ME_CONFIG_MONGODB_ENABLE_ADMIN</td>
<td>true</td>
<td>Whether admin access is allowed though the Mongo Express interface (true/false)</td>
</tr>
<tr>
<td>ME_CONFIG_MONGODB_ADMINUSERNAME</td>
<td></td>
<td>The admin username for MongoDB. If this is empty and ME_CONFIG_MONGODB_ENABLE_ADMIN is true, no access control is assumed to be in use.</td>
</tr>
<tr>
<td>ME_CONFIG_MONGODB_ADMINPASSWORD</td>
<td></td>
<td>The admin password for MongoDB.</td>
</tr>
<tr>
<td>ME_CONFIG_MONGODB_AUTH_DATABASE</td>
<td>logs</td>
<td>if ME_CONFIG_MONGODB_ENABLE_ADMIN is false, the database that is used to authenticate the MongoDB user</td>
</tr>
<tr>
<td>ME_CONFIG_MONGODB_AUTH_USERNAME</td>
<td></td>
<td>The username for non-admin user in MongoDB.</td>
</tr>
<tr>
<td>ME_CONFIG_MONGODB_AUTH_PASSWORD</td>
<td></td>
<td>The password for non-admin user in MongoDB.</td>
</tr>
<tr>
<td>ME_CONFIG_MONGODB_SSL</td>
<td>false</td>
<td>Whether the connection to MongoDB is secured or not (true/false)</td>
</tr>
<tr>
<td>ME_CONFIG_BASICAUTH_USERNAME</td>
<td></td>
<td>The username asked by the Mongo Express web interface</td>
</tr>
<tr>
<td>ME_CONFIG_BASICAUTH_PASSWORD</td>
<td></td>
<td>The password asked by the Mongo Express web interface</td>
</tr>
</tbody>
</table>
<p>The default file can be found at: <a href="https://github.com/simcesplatform/Platform-Manager/blob/master/background/env/mongo_express.env">background/env/mongo_express.env</a></p>
<h3 id="backgrounddocker-compose-backgroundyml">background/docker-compose-background.yml</h3>
<p>Some local ports are used by the platform. The default ports are listed in the table below:</p>
<table>
<thead>
<tr>
<th>Component</th>
<th>Default port(s)</th>
</tr>
</thead>
<tbody>
<tr>
<td>Log Reader</td>
<td>8080</td>
</tr>
<tr>
<td>Mongo Express</td>
<td>8081</td>
</tr>
<tr>
<td>RabbitMQ</td>
<td>5672 and 15672</td>
</tr>
</tbody>
</table>
<p>The used port numbers can be changed by modifying the Docker Compose file by changing the number in the relevant section. For example to change the locally deployed Log Reader to use port 8555 instead of the default 8080, the Log Reader section of the file should be changed to the following:</p>
<pre><code class="language-yaml">log_reader:
    image: ghcr.io/simcesplatform/logreader
    container_name: simces_log_reader
    restart: always
    depends_on:
        - mongodb
    env_file:
        - env/components_mongodb.env
    environment:
        - MONGODB_APPNAME=log_writer
    ports:
        - 8555:8080  # here a change from 8080:8080 to 8555:8080
    networks:
        - mongodb_network
</code></pre>
<p>The default file can be found at: <a href="https://github.com/simcesplatform/Platform-Manager/blob/master/background/docker-compose-background.yml">background/docker-compose-background.yml</a></p>
<h2 id="simulation-run-specific-settings">Simulation run specific settings</h2>
<p>The simulation configuration YAML file is the main configuration for each simulation run. However, for the communication to work some environment settings must be configured properly.</p>
<p>The environment variables are passed to <a href="../core_platformmanager/">Platform Manager</a> when a new simulation run is started. They are given in 3 environment variable files: <a href="#commonenv"><code>common.env</code></a> (for some common settings), <a href="#rabbitmqenv"><code>rabbitmq.env</code></a> (for the connection details for RabbitMQ) and <a href="#mongodbenv"><code>mongodb.env</code></a> (for connection details for MongoDB). All of the common and RabbitMQ parameters are passed to the platform managed components when a new simulation run is started. In addition, the simulation run specific Log Writer instance also receives the MongoDB settings.</p>
<p>Some of the parameters are described here. For the parameters not described here there are descriptive comments in the files themselves.</p>
<h3 id="commonenv">common.env</h3>
<p>Common settings for all simulation components:</p>
<table>
<thead>
<tr>
<th>Variable name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>SIMULATION_LOG_LEVEL</td>
<td>20</td>
<td>The logging level for which the logging messages are included in the output of the components. 30 to include only warnings and errors, 20 to include also info messages, and 10 to include the debug messages as well.</td>
</tr>
</tbody>
</table>
<p>The default file can be found at: <a href="https://github.com/simcesplatform/Platform-Manager/blob/master/common.env">common.env</a></p>
<h3 id="rabbitmqenv">rabbitmq.env</h3>
<p>RabbitMQ connection settings for a new simulation run:</p>
<table>
<thead>
<tr>
<th>Variable name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>RABBITMQ_HOST</td>
<td>simces_rabbitmq</td>
<td>The host name for the RabbitMQ message bus. Can also be Docker container name for a container in the same Docker network as the Platform Manager.</td>
</tr>
<tr>
<td>RABBITMQ_PORT</td>
<td>5672</td>
<td>The port number for the RabbitMQ message bus.</td>
</tr>
<tr>
<td>RABBITMQ_LOGIN</td>
<td></td>
<td>The username for the RabbitMQ message bus. If this is empty, the default username, <code>guest</code>. is used.</td>
</tr>
<tr>
<td>RABBITMQ_PASSWORD</td>
<td></td>
<td>The password for the RabbitMQ message bus. If this is empty, the default password, <code>guest</code>. is used.</td>
</tr>
<tr>
<td>RABBITMQ_SSL</td>
<td>false</td>
<td>Whether the connection to the RabbitMQ message bus is secured or not (true/false)</td>
</tr>
<tr>
<td>RABBITMQ_SSL_VERSION</td>
<td>PROTOCOL_TLS</td>
<td>The security protocol used in the RabbitMQ message bus connection. Only considered if RABBITMQ_SSL is true.</td>
</tr>
</tbody>
</table>
<p>The default file can be found at: <a href="https://github.com/simcesplatform/Platform-Manager/blob/master/rabbitmq.env">rabbitmq.env</a></p>
<h3 id="mongodbenv">mongodb.env</h3>
<p>MongoDB connection settings for a new simulation run:</p>
<table>
<thead>
<tr>
<th>Variable name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>MONGODB_HOST</td>
<td>simces_mongodb</td>
<td>The host name for MongoDB. Can also be Docker container name for a container in the same Docker network as the Platform Manager.</td>
</tr>
<tr>
<td>MONGODB_PORT</td>
<td>27017</td>
<td>The port number for MongoDB.</td>
</tr>
<tr>
<td>MONGODB_USERNAME</td>
<td></td>
<td>The username for MongoDB. If this is empty, no access control is assumed to be in use.</td>
</tr>
<tr>
<td>MONGODB_PASSWORD</td>
<td></td>
<td>The password for MongoDB.</td>
</tr>
<tr>
<td>MONGODB_ADMIN</td>
<td>true</td>
<td>Whether the account given in MONGODB_USERNAME has root access or not. Ignored if MONGODB_USERNAME is empty. (true/false)</td>
</tr>
<tr>
<td>MONGODB_TLS</td>
<td>false</td>
<td>Whether the connection to MongoDB is secured or not (true/false)</td>
</tr>
<tr>
<td>MONGODB_TLS_ALLOW_INVALID_CERTIFICATES</td>
<td>false</td>
<td>Whether to allow invalid security certificates. Ignored if MONGO_TLS is false. (true/false)</td>
</tr>
</tbody>
</table>
<p>The default file can be found at: <a href="https://github.com/simcesplatform/Platform-Manager/blob/master/mongodb.env">mongodb.env</a></p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>SimCES | Simulation Environment of Complex Energy System</p>
                <p>Copyright &copy; 2021-2023 Tampere University and VTT Technical Research Centre of Finland</p>
            <p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in <a href="https://datatracker.ietf.org/doc/html/bcp14">BCP 14</a> [<a href="https://datatracker.ietf.org/doc/html/rfc2119">RFC2119</a>] [<a href="https://datatracker.ietf.org/doc/html/rfc8174">RFC8174</a>] when, and only when, they appear in all capitals, as shown here.</p>
            <p>Get source code from GitHub: <a href="https://github.com/simcesplatform">https://github.com/simcesplatform</a> (MIT license; see the source code or <a href="../license">license</a>)</p>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../js/base.js" defer></script>
        <script src="../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
