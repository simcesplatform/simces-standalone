<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        <link rel="canonical" href="https://simcesplatform.github.io/core_install/">
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>Installation - SimCES</title>
        <link href="../css/bootstrap.min.css" rel="stylesheet">
        <link href="../css/font-awesome.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css">
        <link href="../css/extra.css" rel="stylesheet">

        <script src="../js/jquery-1.10.2.min.js" defer></script>
        <script src="../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="..">SimCES</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="dropdown active">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Use <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href=".." class="dropdown-item">Introduction</a>
</li>
                                    
<li>
    <a href="../core_features/" class="dropdown-item">Features</a>
</li>
                                    
<li>
    <a href="./" class="dropdown-item active">Installation</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Run simulation</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../core_run/" class="dropdown-item">Overview</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Test platform</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../core_run-first/" class="dropdown-item">Run first test simulation</a>
</li>
            
<li>
    <a href="../energy_run-ec-demo/" class="dropdown-item">Run Energy Community demo</a>
</li>
            
<li>
    <a href="../energy_run-ev-charging-demo/" class="dropdown-item">Run EV Charging demo</a>
</li>
    </ul>
  </li>
            
<li>
    <a href="../core_platform-settings/" class="dropdown-item">Configuring settings</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Start simulation</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../core_run-preparations/" class="dropdown-item">Simulation run preparations</a>
</li>
            
<li>
    <a href="../core_start-simulation/" class="dropdown-item">Starting a simulation</a>
</li>
    </ul>
  </li>
            
<li>
    <a href="../core_follow-run/" class="dropdown-item">Follow running simulation</a>
</li>
            
<li>
    <a href="../core_stop-simulation/" class="dropdown-item">Stop simulation</a>
</li>
    </ul>
  </li>
                                    
<li>
    <a href="../core_log-api/" class="dropdown-item">Log API</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Develop <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../core_develop-overview/" class="dropdown-item">Overview</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Basic concepts</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../core_time/" class="dropdown-item">Time and synchronization with epochs</a>
</li>
            
<li>
    <a href="../core_cmp-mgmt/" class="dropdown-item">Platform managed and externally managed components</a>
</li>
            
<li>
    <a href="../core_soa/" class="dropdown-item">Service-oriented architecture</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">How to develop</a>
    <ul class="dropdown-menu">
            
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Creating new component</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../core_create-cmp/" class="dropdown-item">Overview</a>
</li>
            
<li>
    <a href="../core_docker-image/" class="dropdown-item">Building Docker image for a component</a>
</li>
            
<li>
    <a href="../core_component-manifest/" class="dropdown-item">Creating a component manifest file</a>
</li>
    </ul>
  </li>
            
<li>
    <a href="../core_conv-msg/" class="dropdown-item">Conventions of messaging</a>
</li>
            
<li>
    <a href="../core_conv-name/" class="dropdown-item">Conventions of naming</a>
</li>
            
<li>
    <a href="../core_pseudocode/" class="dropdown-item">Pseudocode reference</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Simulation Tools package</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../core_sim-tools/" class="dropdown-item">Simulation Tools package</a>
</li>
            
<li>
    <a href="../core_abstractsimulationcomponent/" class="dropdown-item">AbstractSimulationComponent</a>
</li>
    </ul>
  </li>
            
<li>
    <a href="../core_workflow-sim/" class="dropdown-item">Workflow of component in simulation</a>
</li>
            
<li>
    <a href="../core_workflow-start-end/" class="dropdown-item">Workflow of start and end</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Communication</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../core_topics-queues-exchanges/" class="dropdown-item">Topics, queues and exchanges</a>
</li>
            
<li>
    <a href="../core_exchange-mgmt/" class="dropdown-item">Exchange, management</a>
</li>
            
<li>
    <a href="../core_exchange-sim/" class="dropdown-item">Exchange, simulation-specific</a>
</li>
            
<li>
    <a href="../core_topics/" class="dropdown-item">Topics (core)</a>
</li>
            
<li>
    <a href="../core_rabbitmq-reliability/" class="dropdown-item">Reliable messaging in RabbitMQ</a>
</li>
            
<li>
    <a href="../core_amqp-footprint/" class="dropdown-item">Footprint of AMQP items</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Message structures (core)</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../core_msg/" class="dropdown-item">Message structures (core)</a>
</li>
            
<li>
    <a href="../core_msgtype/" class="dropdown-item">Message type names (core)</a>
</li>
            
<li>
    <a href="../core_ucum/" class="dropdown-item">Units of measure (UCUM)</a>
</li>
            
<li>
    <a href="../core_msg-abstractmessage/" class="dropdown-item">Message - AbstractMessage</a>
</li>
            
<li>
    <a href="../core_msg-abstractresult/" class="dropdown-item">Message - AbstractResult</a>
</li>
            
<li>
    <a href="../core_msg-epoch/" class="dropdown-item">Message - Epoch</a>
</li>
            
<li>
    <a href="../core_msg-simstate/" class="dropdown-item">Message - SimState</a>
</li>
            
<li>
    <a href="../core_msg-start/" class="dropdown-item">Message - Start</a>
</li>
            
<li>
    <a href="../core_msg-status/" class="dropdown-item">Message - Status</a>
</li>
            
<li>
    <a href="../core_block-quantity/" class="dropdown-item">Block - Quantity</a>
</li>
            
<li>
    <a href="../core_block-quantity-array/" class="dropdown-item">Block - Quantity array</a>
</li>
            
<li>
    <a href="../core_block-time-series/" class="dropdown-item">Block - Time series</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Platforms internals</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../core_logging-system/" class="dropdown-item">Logging system</a>
</li>
            
<li>
    <a href="../core_logwriter/" class="dropdown-item">LogWriter</a>
</li>
            
<li>
    <a href="../core_platformmanager/" class="dropdown-item">Platform Manager</a>
</li>
            
<li>
    <a href="../core_lifecycle/" class="dropdown-item">Simulation lifecycle</a>
</li>
            
<li>
    <a href="../core_simulationmanager/" class="dropdown-item">Simulation Manager</a>
</li>
            
<li>
    <a href="../core_dummycomponent/" class="dropdown-item">Dummy Component</a>
</li>
            
<li>
    <a href="../core_amqpmathtool/" class="dropdown-item">AmqpMathToolIntegration</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Energy domain <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../energy_overview/" class="dropdown-item">Overview</a>
</li>
                                    
<li>
    <a href="../energy_conventions/" class="dropdown-item">Energy-domain-specific conventions</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Components (energy)</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../energy_controller/" class="dropdown-item">Controller</a>
</li>
            
<li>
    <a href="../energy_distribution-management-system-dms/" class="dropdown-item">Distribution management system (DMS)</a>
</li>
            
<li>
    <a href="../energy_grid-dss/" class="dropdown-item">Grid (DSS)</a>
</li>
            
<li>
    <a href="../energy_economicdispatch/" class="dropdown-item">Economic Dispatch</a>
</li>
            
<li>
    <a href="../energy_priceforecaster/" class="dropdown-item">Price Forecaster</a>
</li>
            
<li>
    <a href="../energy_procem-lfm/" class="dropdown-item">Procem-LFM</a>
</li>
            
<li>
    <a href="../energy_resourceforecaster/" class="dropdown-item">Resource Forecaster</a>
</li>
            
<li>
    <a href="../energy_static-time-series-resource/" class="dropdown-item">Static time series resource</a>
</li>
            
<li>
    <a href="../energy_storage/" class="dropdown-item">Storage</a>
</li>
            
<li>
    <a href="../energy_user-component/" class="dropdown-item">User</a>
</li>
            
<li>
    <a href="../energy_station-component/" class="dropdown-item">Station</a>
</li>
            
<li>
    <a href="../energy_ic-component/" class="dropdown-item">Intelligent Controller</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Message structures (energy)</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../energy_msg-controlstate-powersetpoint/" class="dropdown-item">ControlState.PowerSetpoint</a>
</li>
            
<li>
    <a href="../energy_msg-dmsnetworkstatus-current/" class="dropdown-item">DMSNetworkStatus.Current</a>
</li>
            
<li>
    <a href="../energy_msg-dmsnetworkstatus-voltage/" class="dropdown-item">DMSNetworkStatus.Voltage</a>
</li>
            
<li>
    <a href="../energy_msg-flexibilityneed/" class="dropdown-item">FlexibilityNeed</a>
</li>
            
<li>
    <a href="../energy_msg-init-cis-customerinfo/" class="dropdown-item">Init.CIS.CustomerInfo</a>
</li>
            
<li>
    <a href="../energy_msg-init-nis-networkbusinfo/" class="dropdown-item">Init.NIS.NetworkBusInfo</a>
</li>
            
<li>
    <a href="../energy_msg-init-nis-networkcomponentinfo/" class="dropdown-item">Init.NIS.NetworkComponentInfo</a>
</li>
            
<li>
    <a href="../energy_msg-lfmmarketresult/" class="dropdown-item">LFMMarketResult</a>
</li>
            
<li>
    <a href="../energy_msg-lfmoffering/" class="dropdown-item">LFMOffering</a>
</li>
            
<li>
    <a href="../energy_msg-networkforecaststate-current/" class="dropdown-item">NetworkForecastState.Current</a>
</li>
            
<li>
    <a href="../energy_msg-networkforecaststate-voltage/" class="dropdown-item">NetworkForecastState.Voltage</a>
</li>
            
<li>
    <a href="../energy_msg-networkstate-current/" class="dropdown-item">NetworkState.Current</a>
</li>
            
<li>
    <a href="../energy_msg-networkstate-loss/" class="dropdown-item">NetworkState.Loss</a>
</li>
            
<li>
    <a href="../energy_msg-networkstate-voltage/" class="dropdown-item">NetworkState.Voltage</a>
</li>
            
<li>
    <a href="../energy_msg-offer/" class="dropdown-item">Offer</a>
</li>
            
<li>
    <a href="../energy_msg-priceforecaststate/" class="dropdown-item">PriceForecastState</a>
</li>
            
<li>
    <a href="../energy_msg-request/" class="dropdown-item">Request</a>
</li>
            
<li>
    <a href="../energy_msg-resourceforecaststate-dispatch/" class="dropdown-item">ResourceForecastState.Dispatch</a>
</li>
            
<li>
    <a href="../energy_msg-resourceforecaststate-power/" class="dropdown-item">ResourceForecastState.Power</a>
</li>
            
<li>
    <a href="../energy_msg-resourcestate/" class="dropdown-item">ResourceState</a>
</li>
            
<li>
    <a href="../energy_msg-selectedoffer/" class="dropdown-item">SelectedOffer</a>
</li>
            
<li>
    <a href="../energy_msg-startmessageblocks/" class="dropdown-item">Start message blocks</a>
</li>
    </ul>
  </li>
                                    
<li>
    <a href="../energy_msgtype/" class="dropdown-item">Message type names (energy)</a>
</li>
                                    
<li>
    <a href="../energy_software-pkg/" class="dropdown-item">Software packages</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Topics (energy)</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../energy_topics/" class="dropdown-item">Topics (energy)</a>
</li>
            
<li>
    <a href="../energy_topic-priceforecaststate/" class="dropdown-item">PriceForecastState.(MarketId).(ResourceId)</a>
</li>
            
<li>
    <a href="../energy_topic-resourceforecaststate/" class="dropdown-item">ResourceForecastState.(ResourceCategory).(ResourceId)</a>
</li>
            
<li>
    <a href="../energy_topic-resourcestate/" class="dropdown-item">ResourceState.(ResourceCategory).(ResourceId)</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Scenarios</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../energy_scenario-ec-demo/" class="dropdown-item">Energy community demo</a>
</li>
            
<li>
    <a href="../energy_scenario-ev-charging-demo/" class="dropdown-item">Electric vehicle charging demo</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">About... <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../about/" class="dropdown-item">About...</a>
</li>
                                    
<li>
    <a href="../license/" class="dropdown-item">License</a>
</li>
                                    
<li>
    <a href="../maintenance-plan/" class="dropdown-item">Maintenance plan</a>
</li>
                                    
<li>
    <a href="../publications/" class="dropdown-item">Publications</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../core_features/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../core_run/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#installation" class="nav-link">Installation</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#prerequisites" class="nav-link">Prerequisites</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#installing-the-platform-and-the-core-components" class="nav-link">Installing the platform and the core components</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#uninstalling-the-core-components" class="nav-link">Uninstalling the core components</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="installation">Installation</h1>
<p>Follow the given steps to install the platform.</p>
<h2 id="prerequisites">Prerequisites</h2>
<p>The simulation platform and these instructions have been tested on Ubuntu 18.04 with Docker Engine version 20.10.2 and Docker Compose version 1.28.2.</p>
<ul>
<li><a href="https://www.gnu.org/software/bash/">Bash</a><ul>
<li>For running the helper scripts.</li>
<li>The "curl" command must also be installed (usually available by default).</li>
<li>For Windows, Bash is included with the <a href="https://git-scm.com/downloads">Git for Windows</a>, for other operating systems it is likely available by default.</li>
<li>On Windows the <a href="https://docs.microsoft.com/en-us/windows/wsl/install-win10">Windows Subsystem for Linux (WSL)</a> can also be used, though setting it up requires more technical knowledge than installing Git for Windows.</li>
</ul>
</li>
<li><a href="https://docs.docker.com/get-docker/">Docker</a> and <a href="https://docs.docker.com/compose/install/">Docker Compose</a><ul>
<li>A recent version of Docker includes Docker Compose, so a separate installation of Docker Compose is not necessary in that case.</li>
<li>For running platform managed components for the simulations.</li>
<li>For running the local RabbitMQ message bus as well as the local MongoDB database. These are installed by the installation scripts.</li>
<li>Installing the most up-to-date versions of Docker and Docker Compose is the recommended option.</li>
<li>On Linux, to be compatible with the platform scripts it is advisable to set Docker to be manageable as a non-root user: <a href="https://docs.docker.com/engine/install/linux-postinstall/">https://docs.docker.com/engine/install/linux-postinstall/</a></li>
</ul>
</li>
</ul>
<p>Some simulation components might have other requirements. For those, see the component specific documentation.</p>
<h2 id="installing-the-platform-and-the-core-components">Installing the platform and the core components</h2>
<ul>
<li>
<p>1. Create a folder for the simulation platform. In these instructions this main folder is named <code>platform</code>.</p>
<ul>
<li>Note, that you must have full read and write permissions in the created folder, <code>platform</code>. Otherwise, the installation process will not work.</li>
</ul>
</li>
<li>
<p>2. Copy the <a href="https://github.com/simcesplatform/Platform-Manager/blob/master/fetch_platform_files.sh"><code>fetch_platform_files.sh</code></a> script file to the <code>platform</code> folder by downloading it from GitHub using the browser interface (right click on the "Raw" button and "Save Link As...") or by using the command line:</p>
<pre class="codehilite"><code class="language-bash">wget https://raw.githubusercontent.com/simcesplatform/Platform-Manager/master/fetch_platform_files.sh
</code></pre>

</li>
<li>
<p>3. Using Git Bash (in Windows) or other terminal that supports Bash navigate to the platform folder.</p>
<ul>
<li>In the terminal you can navigate inside a folder using command: <code>cd &lt;folder_name&gt;</code><ul>
<li>If the folder name contains a whitespace character, quotes must be used around the folder name. For example, to navigate to folder "My Folder", use: <code>cd "My Folder"</code></li>
</ul>
</li>
<li>To navigate to the parent folder, use command: <code>cd ..</code></li>
<li>To check your current folder, use command: <code>pwd</code></li>
<li>To list the files and sub folders in the current folder, use command: <code>ls -l</code></li>
</ul>
</li>
<li>
<p>4. Run the fetch script using the command</p>
<pre class="codehilite"><code class="language-bash">source fetch_platform_files.sh github
</code></pre>

<p>Answer "y" when prompted to start fetching the source code.</p>
<p>If everything went alright, the script should print the following line at the end:</p>
<pre class="codehilite"><code class="language-text">All files where found. Platform is ready for installation.
</code></pre>

</li>
<li>
<p>5. (Optional) Setup the settings for the RabbitMQ message bus and the Mongo database. Note, that the default settings can be used for running simulations locally.</p>
<ul>
<li>See section <a href="../core_platform-settings/#general-platform-level-settings">General platform level settings</a> on the available settings.</li>
</ul>
</li>
<li>
<p>6. Start the simulation platform by running the following command in the platform folder using a terminal that supports Bash</p>
<pre class="codehilite"><code class="language-bash">source platform_core_setup.sh
</code></pre>

<p>The script will fetch all the platform components (their Docker images) and other files that are needed to run the first simulations. After the fetching stage the script will then start all the required background processes. Running the script will take a few minutes.</p>
</li>
<li>
<p>7. (Optional) Check that all the required platform components have been downloaded.</p>
<p>To list the built Docker images run the command</p>
<pre class="codehilite"><code class="language-bash">docker images
</code></pre>

<p>You should have at least the images shown in the example listing below:</p>
<pre class="codehilite"><code class="language-text">REPOSITORY                                      TAG                IMAGE ID       CREATED        SIZE
ghcr.io/simcesplatform/platform-manager         latest             1330807ae5cc   9 days ago     909MB
ghcr.io/simcesplatform/simulation-manager       latest             d14c1a9bfbd0   9 days ago     896MB
ghcr.io/simcesplatform/manifest-fetcher         latest             3486b5fac52a   9 days ago     903MB
ghcr.io/simcesplatform/logwriter                latest             d9f1d537169b   9 days ago     900MB
ghcr.io/simcesplatform/dummy-component          latest             76811eb2d295   10 days ago    1.12GB
ghcr.io/simcesplatform/mongo-express            latest             f43423478d66   3 months ago   127MB
ghcr.io/simcesplatform/logreader                latest             42d8ca7ecd53   3 months ago   956MB
rabbitmq                                        3.8.4-management   cc86ffa2f398   9 months ago   186MB
mongo                                           4.2.7              66c68b650ad4   9 months ago   388MB
</code></pre>

</li>
<li>
<p>8. (Optional) Check that all the background components have been started.</p>
<ul>
<li>
<p>8.1.To list all the running Docker containers run the command</p>
<pre class="codehilite"><code class="language-bash">docker ps --format &quot;table {{.ID}}\t{{.Image}}\t{{.Status}}\t{{.Names}}&quot;
</code></pre>

<p>You should have at least those containers running that are shown in the example listing below:</p>
<pre class="codehilite"><code class="language-text">CONTAINER ID   IMAGE                                        STATUS         NAMES
ef59c0f21457   ghcr.io/simcesplatform/mongo-express:latest  Up 2 minutes   simces_mongo_express
ff24ba9e33de   ghcr.io/simcesplatform/logreader             Up 2 minutes   simces_log_reader
f7d3e82ccc4b   ghcr.io/simcesplatform/logwriter             Up 2 minutes   simces_log_writer_management
1995624af84a   rabbitmq:3.8.4-management                    Up 2 minutes   simces_rabbitmq
b49675bd1581   mongo:4.2.7                                  Up 2 minutes   simces_mongodb
</code></pre>

</li>
<li>
<p>8.2. Check that the Log Writer instance listening to the management exchange is running properly. This also works as a check for the RabbitMQ message bus.</p>
<ul>
<li>
<p>To check the log output from the Log Writer instance use the command</p>
<pre class="codehilite"><code class="language-bash">docker logs simces_log_writer_management
</code></pre>

</li>
<li>
<p>If you see <code>Now listening to messages; exc=procem-management, topic=#</code> and there is no <code>Connect call failed</code> or <code>Closing listener for topics: '#'</code> after the <code>Now listening ...</code> line, the Log Writer instance should be running properly.</p>
<ul>
<li>Note, that it does not matter if output contains connection fail messages before the last <code>Now listening ...</code> line as long as the there no such messages after that line.</li>
</ul>
</li>
<li>
<p>If the previous check indicates that the Log Writer instance is not working properly, do the following:</p>
<ul>
<li>
<p>Stop the Log Writer instance with commands:</p>
<pre class="codehilite"><code class="language-bash">docker stop simces_log_writer_management
docker rm simces_log_writer_management
</code></pre>

</li>
<li>
<p>Optionally, check the parameters for the message bus (step 5).</p>
</li>
<li>Run the platform core setup script from step 6 again.</li>
<li>Check the Log Writer output again to see if the problem has been fixed.</li>
</ul>
</li>
</ul>
</li>
<li>
<p>8.3. Check that the Log Reader is running. This also works as a check for the Mongo database.</p>
<ul>
<li>The Log Reader should be running on localhost at port 8080. To check that it is responding use a browser to check that you can see the user interface page at the address <a href="http://localhost:8080">http://localhost:8080</a>.</li>
<li>For instructions on how to use the Log Reader see <a href="../core_log-api/">Log API</a></li>
<li>For advanced users<ul>
<li>If you setup the Mongo Express, it can be accessed at the address <a href="http://localhost:8081">http://localhost:8081</a>.<ul>
<li>Through the Mongo Express, you get admin access to the database by default, so care should be taken when making any changes to the database contents.</li>
</ul>
</li>
<li>If you are using the local RabbitMQ instance, you can access the RabbitMQ Management Plugin at the address <a href="http://localhost:15672">http://localhost:15672</a>.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>After these steps, the simulation platform should be ready for starting test simulation run. To see instructions on how to start a simulation run see the page <a href="../core_run/">Running a simulation</a>.</p>
<h2 id="uninstalling-the-core-components">Uninstalling the core components</h2>
<p>The following commands are to be used in the installation folder using a terminal that supports Bash.</p>
<p>Note: if you are using an old version of Docker and separately installed Docker Compose, replace <code>docker compose</code> with <code>docker-compose</code> in the following commands.</p>
<ul>
<li>
<p>To stop the running core components:</p>
<pre class="codehilite"><code class="language-bash">docker compose -f background/docker-compose-background.yml down --remove-orphans
</code></pre>

</li>
<li>
<p>To remove the platform components entirely from the system (WARNING: this will remove all Docker images that are not in use, regardless of whether they are related to the simulation platform or not. However, the logged messages in the database from simulations will not be removed):</p>
<pre class="codehilite"><code class="language-bash">docker system prune --all
</code></pre>

</li>
<li>
<p>The files created in the installation folder have to be removed manually.</p>
</li>
<li>
<p>For advanced users</p>
<ul>
<li>For systems that have other Docker related things installed it is possibly not reasonable to run the general removal command. Use the following at your own discretion.</li>
<li>
<p>To stop and remove the background components:</p>
<pre class="codehilite"><code class="language-bash">docker compose -f background/docker-compose-background.yml down --remove-orphans
</code></pre>

</li>
<li>
<p>To stop and remove the Docker containers related to the platform (removes those containers that start with "simces" or "Sim"):</p>
<pre class="codehilite"><code class="language-bash">docker ps --all --filter name=&quot;simces&quot; --filter name=&quot;Sim&quot; --format &quot;{{.Names}}&quot; | xargs docker stop
docker ps --all --filter name=&quot;simces&quot; --filter name=&quot;Sim&quot; --format &quot;{{.Names}}&quot; | xargs docker rm
</code></pre>

</li>
<li>
<p>To remove the Docker images related to the platform:</p>
<pre class="codehilite"><code class="language-bash">docker images -a | grep &quot;simcesplatform\|mongo\|rabbitmq\|ubuntu&quot; | awk '{print $3}' | xargs docker rmi
</code></pre>

</li>
<li>
<p>To remove the Docker networks related to the platform:</p>
<pre class="codehilite"><code class="language-bash">docker network ls --filter name=simces --format &quot;{{.Name}}&quot; | xargs docker network rm
</code></pre>

</li>
<li>
<p>To also remove all the data related to the platform, i.e. to remove the Docker volumes related to the platform:</p>
<pre class="codehilite"><code class="language-bash">docker volume ls --filter name=simces --format &quot;{{.Name}}&quot; | xargs docker volume rm
</code></pre>

</li>
</ul>
</li>
</ul></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>SimCES | Simulation Environment of Complex Energy System</p>
                <p>Copyright &copy; 2021-2023 Tampere University and VTT Technical Research Centre of Finland</p>
            <p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in <a href="https://datatracker.ietf.org/doc/html/bcp14">BCP 14</a> [<a href="https://datatracker.ietf.org/doc/html/rfc2119">RFC2119</a>] [<a href="https://datatracker.ietf.org/doc/html/rfc8174">RFC8174</a>] when, and only when, they appear in all capitals, as shown here.</p>
            <p>Get source code from GitHub: <a href="https://github.com/simcesplatform">https://github.com/simcesplatform</a> (MIT license; see the source code or <a href="../license">license</a>)</p>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../js/base.js" defer></script>
        <script src="../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
